<%
  title = 'Create widget'
  url = widgets_path(type: 'text')

  if @widget.persisted?
    title = 'Edit widget'
    url = widget_path(type: 'text', id: @widget.id)
  end
%>

<%# simple_form_for(@widget, url: url, remote: true) do |f| %>
<%= simple_form_for(@widget, as: :widget, url: url, remote: true) do |f| %>

  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">&times;</button>
    <h4 class="modal-title"><%= title %></h4>
  </div>

  <div class="modal-body">      
    <%= f.input :title %>    
    <%= f.input :body %>    
  </div>

  <div class="modal-footer">
    <% if @widget.persisted? %>
      <a href="<%= widget_path(@widget) %>" data-method="delete" data-confirm="Are you sure you want to delete this widget?" tabindex="-1" class="btn btn-danger pull-left">Delete</a>
    <% end %>
    <%= f.button :submit %>
  </div>

<% end %>
