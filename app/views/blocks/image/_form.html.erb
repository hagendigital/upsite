<%
  url = blocks_path(type: 'image')
  url = block_path(type: 'image', id: @block.id) if @block.persisted?
%>

<%= simple_form_for(@block, as: :block, url: url, remote: true, :html => { multipart: true }) do |f| %>

  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">&times;</button>
    <h4 class="modal-title"><%= @block.class.name.humanize %></h4>
  </div>

  <div class="modal-body">
    <%= f.input :text %>

    <div class="form-group">
      <label class="control-label">Image</label>
      <div id="dropzone-wrapper" class="dropzone"></div>
      <div id="dropzone-previews"></div>
    </div>

    <div class="form-group hidden" data-behavior="form-advanced">
      <label class="control-label">Format</label>
      <div class="radio">
        <label>
          <input type="radio" checked>
          <i class="fa fa-picture-o"></i> Slideshow
        </label>
      </div>
      <div class="radio">
        <label>
          <input type="radio">
          <i class="fa fa-th"></i> Thumbnails
        </label>
      </div>
    </div>

    <%# f.input :background_color, input_html: { data: { toggle: 'colorpicker' } } %>
  </div>

  <div class="modal-footer">
    <%= f.button :submit, class: 'btn btn-success' %>
  </div>

<% end %>
