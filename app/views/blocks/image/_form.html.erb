<%
  url = blocks_path(type: 'image')
  url = block_path(type: 'image', id: @block.id) if @block.persisted?
%>

<%= simple_form_for(@block, as: :block, url: url, remote: true, :html => { :multipart => true }) do |f| %>

  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">&times;</button>
    <h4 class="modal-title"><%= @block.class.name.humanize %></h4>
  </div>

  <div class="modal-body">
    <%= f.input :text %>

    <%= f.fields_for :attachments do |ff| %>
      <%= ff.input :upload, label: 'Image', hint: 'Use the image to showcase the key content of your page.' %>
    <% end %>

    <%= f.input :background_color, input_html: { data: { toggle: 'colorpicker' } } %>
  </div>

  <div class="modal-footer">
    <%= f.button :submit, class: 'btn btn-success' %>
  </div>

<% end %>
