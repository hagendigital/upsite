
<div class="modal-header">
  <button type="button" class="close" data-dismiss="modal">&times;</button>
  <h4 class="modal-title">Settings</h4>
</div>

<ul class="modal-nav nav nav-tabs">
  <li class="active"><a href="#basic" data-toggle="tab">Basic</a></li>
  <li><a href="#account" data-toggle="tab">Account</a></li>
  <li><a href="#design" data-toggle="tab">Design</a></li>
  <li><a href="#sites" data-toggle="tab">Sites</a></li>
  <li><a href="#users" data-toggle="tab">Users</a></li>
</ul>

<div class="tab-content">

  <!-- Basic -->
  <div class="tab-pane active" id="basic">
    <%= simple_form_for(@site, url: settings_path, remote: true) do |f| %>
      <div class="modal-body">
        <%= f.input :name %>
        <%= f.input :description, as: :text, input_html: { rows: 4 }, hint: '600 character limit' %>
        <!-- <div class="form-group">
          <label for="" class="control-label">Upsite URL</label>
          <div class="input-group">
            <input type="text" class="form-control" value="<%= @site.subdomain %>" disabled>
            <span class="input-group-addon">@upsite.io</span>
          </div>
        </div> -->
        <a href="<%= upgrade_path(source: 'custom-domain') %>" class="form-group-click-target" data-target="self">
          <%= f.input :domain,
            label: "Custom URL <span class='label label-success'>PRO</span>".html_safe,
            input_html: { disabled: true, placeholder: 'yourdomain.com' } %>
        </a>
      </div>
      <div class="modal-footer">
        <%= f.button :submit, class: 'btn btn-success' %>
      </div>
    <% end %>
  </div>

  <!-- Account   -->
  <div class="tab-pane" id="account">
    <%= simple_form_for(@site, url: settings_path, remote: true) do |f| %>
    <div class="modal-body">
      <%= f.fields_for(:owner) do |ff| %>
        <%= ff.input :email, disabled: true %>
        <%= ff.input :password, placeholder: '•••••••••••', disabled: true %>
      <% end %>
    </div>
    <div class="modal-footer">
      <div class="pull-left">
        <%= link_to 'Log out', logout_url(subdomain: 'www'),
              method: 'delete',
              class: 'btn btn-default',
              tabindex: -1,
              data: { confirm: 'Are you sure you want to log out?' } %>
      </div>
      <%= f.button :submit, class: 'btn btn-success' %>
    </div>
    <% end %>
  </div>

  <!-- Design -->
  <div class="tab-pane" id="design">
    <%= simple_form_for(@site, url: settings_path, remote: true) do |f| %>
      <div class="modal-body">
        <%= f.input :color, label: 'Favorite color', input_html: { data: { toggle: 'colorpicker' } } %>
        <%= f.input :border, label: 'Page border', hint: 'Show or hide the colored page border', as: :select %>
      </div>
      <div class="modal-footer">
        <%= f.button :submit, class: 'btn btn-success' %>
      </div>
    <% end %>
  </div>

  <!-- Sites -->
  <div class="tab-pane" id="sites">
    <%= simple_form_for(@site, url: settings_path, remote: true) do |f| %>
      <div class="modal-body">
        <ul class="list-group" style="max-height: 350px; overflow: scroll; border-bottom: 1px solid #ddd;">
          <% current_user.sites.each do |site| %>
            <% next unless site == current_user.site %>
            <li class="list-group-item" href="<%= site_link(site) %>">
              <div class="media">
                <div class="media-left media-middle">
                  <a href="<%= site_link(site) %>">
                    <img class="media-object img-circle" src="<%= site_favicon_link(site) %>" width="35">
                  </a>
                </div>
                <div class="media-body">
                  <span class="pull-right" style="padding-top: 2px;">
                    <a href="<%= site_link(site) %>" class="btn btn-danger-outline" disabled>Delete</a>
                    <!-- <a href="<%= site_link(site) %>" class="btn btn-default">Open</a> -->
                  </span>
                  <h4 class="media-heading" style="margin: 10px 0 0 0;">
                    <a href="<%= site_link(site) %>" class="text-link">
                      <%= site.name %>
                    </a>
                  </h4>
                </div>
              </div>
            </li>
          <% end %>
        </ul>
      </div>
      <div class="modal-footer">
        <div class="pull-left">
          <p>
          </p>
        </div>
        <a href="<%= upgrade_path(source: 'multi-site') %>" data-target="self" class="btn btn-default">
          Create multiple sites <span class="label label-success">PRO</span>
        </a>
      </div>
    <% end %>
  </div>

  <!-- Users -->
  <div class="tab-pane" id="users">
    <%= simple_form_for(@site, url: settings_path, remote: true) do |f| %>
      <div class="modal-body">
        <ul class="list-group" style="max-height: 350px; overflow: scroll; border-bottom: 1px solid #ddd;">
          <% @site.users.each do |user| %>
            <% next unless user == current_user %>
            <li class="list-group-item">
              <div class="media">
                <div class="media-left media-middle">
                  <img class="media-object img-circle" src="<%= avatar_url(user) %>" width="35">
                </div>
                <div class="media-body">
                  <span class="pull-right" style="padding-top: 7px;">
                    <span class="label label-default">ADMIN</span>
                  </span>
                  <h4 class="media-heading" style="margin: 10px 0 0 0;">
                    <%= user.email %>
                  </h4>
                </div>
              </div>
            </li>
          <% end %>
        </ul>
      </div>
      <div class="modal-footer">
        <div class="pull-left">
          <p>
          </p>
        </div>
        <a href="<%= upgrade_path(source: 'multi-user') %>" data-target="self" class="btn btn-default">
          Invite more users <span class="label label-success">PRO</span>
        </a>
      </div>
    <% end %>
  </div>


</div>
